# Hard Work -  Что нам делать с ORM-ами? 

## Что нам делать с ORM-ами? 

ORM такие как `SQLAlchemy` и `Django ORM` по моему опыту, сложнее использовать и преимущества, которые они дают в случаях, когда большая часть запросов являются аналитическими практически несущественны. Поэтому я гораздо чаще использую "сырой" SQL.
Аналитические запросы очень быстро растут по сложности, поэтому их не только сложно бывает выразить на языке конкретной ORM, но и генерируемый по итогу запрос в БД бывает занчительно менее оптимизированным, чем при ручном составлении SQL запроса.

В одном из прошлых занятий, уже пытались уйти от глобальных REST API идентификаторов, указывающих на ту или иную сущность в БД.
Мы сделали это, заменив ссылку на ID на фактическое название сущности (slug). Таким образом, пользователь может извлечь сущность не по id, который должен быть заранее ему тогда известным, но по названию,
что, на мой взгляд, гораздо ближе к подобию поиска по `WHERE` в SQL (хотя это по сути не решает проблему того, что какая угодно часть программы когда угодно может получить доступ к объекту, теперь "зная" его slug, вместо idшника, но по крайней мере теперь мы можем, например, пересоздать объект, и не потерять доступа к нему, из-за того, что при пересоздании ему присвоился новый id). 

В OLAP также часто имеем денормализованные данные, для ускорения доступа к ним на чтение, чтобы аналитику не пришлось ждать, пока выполнится десяток JOINов (в зависимости от объема данных, в какой-то момент становится практически невозможно использовать данные в нормализованном виде).

Одно из направлений решения этих проблем, это документно-ориентированные базы данных, вроде `MongoDB`. Способ хранения данных (JSON-подобные структуры) в таких БД получается изначально аналогичен структурам данных, которые реализованы в современных языках как словари или мапы. Таким образом мы избегаем необходимости преобразовывать объекты в нашей программе в сущности, соответствующие сущностям в реляционной БД.
Хотел бы больше узнать про подоходы, которые предлагаю функциональное программирование по отношению к взаимодействию с традиционными БД.

## Выводы

В целом, после некоторых размышлений на эту тему, я пришел к следующим выводам:

- Для проектов, использующих SQL в основном как OLAP, ORM фактически не нужны, достаточно просто использовать движок для подключения (или на крайний случай, *query builder*.)
- Для проектов, где нам нужно много UPDATEов в большом числе случаем можно использовать документные БД, которые удобно отражают данные в JSON-подобных структурах, которые имеются в большинстве популярных языков программирования (это только не связанные с работой проекты).
- Также нужно попробовать изучить функциональный подход к взаимодействию с БД, т.к. он мне практически не знаком, при этом описанные преимущества звучат очень убедительно.
