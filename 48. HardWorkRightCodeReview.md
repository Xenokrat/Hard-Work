# Hard Work -  Правильный code review

Сразу отмечу, что в моей организации code review носят спорадический характер и происходят чаще когда что-то пошло не так
или нужно внести значительные обновления в код. Поэтому значительная часть рекомендаций ниже не соблюдается, тут хотя бы выработать постоянство с проведением ревью :).
Тем не менее, буду продвигать в массы более формальный подход, который описывается в этом занятии.
Также сам я не учавствовал раньше, как рецензент (по крайней мере главный рецензент), только как субъект рецензирования.

## 1. Обозревайте не более 200-400 строк кода за раз.

Хотя никто не ставит перед собой цель обозревать определенное количество строк за одну сессию,
посчитал, что в последние разы получилось примерно 300-400 строк, что соответствует рекомендации.

## 2. Придерживайтесь темпа не более 300-500 строк кода/час.

Не придерживаемся специально какого-то темпа, однако в целом естественным образом я думаю соблюдаю примерно такой темп.
(За последний code review получилось обозреть модуль на 400 строк за один час).
Тут важно отметить, что также эта рекомендация говорит о том, что не стоит пытаться быстро просмотеть какой-то вроде как не важный участок кода
и внимательно анализировать весь код в одном темпе.

## 3. Отведите достаточно времени для вдумчивого и неспешгого просмотра, однако не более 60-90 минут.

Эта рекомендация тесно взаимосвязана с предыдущими, и подразумевает, в идеале, неспешное вдумчивое рецензирования 
за одну сессию не больше 90 минут.
В целом, также естественным образом соблюдаю, так как после часа внимание всех участников резко падает и большинство согласны закончить сессию.

## 4. Авторов кода следует принуждать к комментированию/документированию кода до начала code review.

Раньше не слышал про подобную практику - подготавливаем сами собственный код к code review,
оставляя надлежащие комметарии. Взял на заметку для себя.

## 5. Устанавливайте количественно измеряемые цели в обзорах кода и фиксируйте метрики

К сожалению, не соблюдаю. Если цели иногда все-таки ставятся (на уровне "исправить баг"), то метрики не используются.
Взял на заметку информацию о том, что существуют фреймворки для анализа эффективности кода.

## 6. Чек-листы существенно улучшают результаты как для программистов, так и для инспекторов.

Общие чек-листы не используем в компании.
Личный чек-лист я пытаюсь с недавним пор использовать на уровне: 

- Нет ошибок от линетра.
- Не более 1-2 предупреждений от линетра.
- Использован форматер.
- Написана минимальная документация.
- Перечень импортов в правильном порядке.

## 7. Убедитесь, что баги действительно исправлены!

Не используем/использую системы отслеживания дефектов.
Максимум проверка на уровне тестов.

## 8. Формирование правильной культуры обзоров кода

Это, к сожалению, возможно самый сложный пункт, в том числе и для меня.
Многие разработчики (в какой-то степени и я тоже) воспринимают замечения и указания на ошибки как личные нападки.
Ошибки также часто вопринимаются не как что-то естественное и неизбежное, а как повод возвыситься над коллегой, ткнув его в неточность.
Правильная культура при проведении code review это то, над чем нужно работать каждому разработчику и ревьюверу, но кроме того нужно чтобы 
менеджерство также не использвало ошибки рабработчика в негативном по отношении к нему ключе.
Определенно вижу, как при правильном подхоже code review станет для обычных программистов даже желаемым событием, так как оно дает ощущение понимания в команде и продуктивной работы.
В моем случае на данный момент скорее не соблюдается, но буду работать над тем, чтобы улучшить эту ситуацию.

## 9. Остерегайтесь эффекта "Большого брата".

Этот пункт теснов взаимосвязан с предыдущим, и также проблемный в моей ситуации.
Опять же, буду сосредотачиваться на том, что "поиск дефектов - это добро, а не зло" и пытаться мотивировать других думать так же.

## 10.Эффект эго 

Сложно оценить этот пункт количественно, но думаю он имеет место в моей ситуации.
При правильном подходе к культуре обзоров, можно устранить негативную составляющую, при этом сохранив своего рода здоровый соревновательный дух.
Разработчики могут смотреть на правильный код коллег, и пытаться не отставать от них по качеству кода, ощущая что они вносят вклад в общее дело, а не из страха перед критикой на code review.

## 11. Облегчённые обзоры кода всё равно остаются эффективны, практичны и полезны при поиске ошибок. 

Тут также не соблюдается в полной мере эта рекомендация. При таком подходе в команде важно:

- Одинаково настроенные линтеры, форматтеры кода.
- Договоренности о стиле.
- Включение других анализаторов кода (общих для команды).
- Постоянство в проведении code review (постоянство коротких code review лучше чем спонтанные многочасовые собрания только когда что-то в программе пошло не так).

## Выводы

Многие из рекомендаций, описанных в данном занятии, требуют более строгого и формального подхода, чем по моему опыту обычно встречается в командах разработчиков.
Зачастую, даже если подобные практики вводятся, они не соблюдаются продолжительное время.
Однако одновременно с тем, что эти практики требовательны, также многие из них интуитивно понятны и близки многим людям: ограничение ревью небольшой продолжительностью, спокойный размеренный темп, 
правильное отношение к ошибкам как к точкам роста, а не поводу критиковать разработчика - все эти подходы не нуждаются в оправдании перед большинством программистов.
Поэтому для достижения лучшей культуры проведения code review необходимо к этому пониманию добавить немного дисциплины, постоянства, формального подхода с отслеживанием метрик.
Соблюдение таких правил, зависит, естественно, не только от нас, но и от комадны, менеджеров, общей политики компании и не всегда ревью будет выглядеть максимально корретно, однако все же
стоит попробовать приложить личные усилия в этом направлении.
